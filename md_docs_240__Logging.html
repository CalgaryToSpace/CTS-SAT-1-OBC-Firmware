<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CTS-SAT-1-OBC-Firmware: Logging</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">CTS-SAT-1-OBC-Firmware
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">Logging</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md10"></a></p>
<p>Satellites do things both as a result of us earthlings sending telecommands, as a result of scheduled telecommands, and as a result of other autonomous actions (e.g., automatically turning off subsystems when the power gets low).</p>
<p>Nearly everything the satellite does must be logged so that it can be audited in the case of problems.</p>
<h1><a class="anchor" id="autotoc_md11"></a>
Logging in Embedded Systems</h1>
<p>In general embedded systems development, you commonly print data to a UART terminal for debugging purposes. The <code>DEBUG_uart_print_str(...)</code> function is used for this purpose.</p>
<p>This is a simple and effective way to debug code, but it is not a good way to log data in a satellite. We can't plug a UART cable into a satellite flying through space at 8 km/s.</p>
<h1><a class="anchor" id="autotoc_md12"></a>
Logging in Space (Orbit)</h1>
<p>The logging system on this satellite is rather simple: call the <code>LOG_message(...)</code> function with the message you want, and it will be logged to a file, sent over the radio, stored in memory, and passed through the umbilical UART debug console (if connected on earth).</p>
<h1><a class="anchor" id="autotoc_md13"></a>
How to use <code>LOG_message(...)</code></h1>
<p>YOU, a developer, must use the <code>LOG_message(...)</code> function. Here's how:</p>
<ol type="1">
<li>In just about every <code>.c</code> file, include: <code>#include "log/log.h"</code></li>
<li>Call <code>LOG_message(...)</code> with the message you want to log with the relevant subsystem, log severity, which sinks (<code>LOG_SINK_ALL</code> by default), a message, and any printf-like arguments for format strings in the message: <div class="fragment"><div class="line"><a class="code hl_function" href="log_8h.html#a3e068c70867806154541035de518012d">LOG_message</a>(</div>
<div class="line">    <a class="code hl_enumvalue" href="log_8h.html#af364ca6837e2c4fb7720ebdbbe7811b3a69866b209fc2c2a5010944d054dc1cb3">LOG_SYSTEM_LFS</a>, <a class="code hl_enumvalue" href="log_8h.html#a67288ef7f22e51426f612ed5a7e0c043aeab8b52bb6858ba4a749ce6ae1d651bd">LOG_SEVERITY_NORMAL</a>, <a class="code hl_enumvalue" href="log_8h.html#afcecd2a29fae3a2fe7e586c9f0dc33bca8061bfef6d93c21e0485d8a981a51907">LOG_SINK_ALL</a>,</div>
<div class="line">    <span class="stringliteral">&quot;Opened file to read: %s&quot;</span>,</div>
<div class="line">    file_name</div>
<div class="line">);</div>
<div class="ttc" id="alog_8h_html_a3e068c70867806154541035de518012d"><div class="ttname"><a href="log_8h.html#a3e068c70867806154541035de518012d">LOG_message</a></div><div class="ttdeci">void LOG_message(LOG_system_enum_t source, LOG_severity_enum_t severity, uint32_t sink_mask, const char fmt[],...) __attribute__((format(printf</div></div>
<div class="ttc" id="alog_8h_html_a67288ef7f22e51426f612ed5a7e0c043aeab8b52bb6858ba4a749ce6ae1d651bd"><div class="ttname"><a href="log_8h.html#a67288ef7f22e51426f612ed5a7e0c043aeab8b52bb6858ba4a749ce6ae1d651bd">LOG_SEVERITY_NORMAL</a></div><div class="ttdeci">@ LOG_SEVERITY_NORMAL</div><div class="ttdef"><b>Definition</b> log.h:11</div></div>
<div class="ttc" id="alog_8h_html_af364ca6837e2c4fb7720ebdbbe7811b3a69866b209fc2c2a5010944d054dc1cb3"><div class="ttname"><a href="log_8h.html#af364ca6837e2c4fb7720ebdbbe7811b3a69866b209fc2c2a5010944d054dc1cb3">LOG_SYSTEM_LFS</a></div><div class="ttdeci">@ LOG_SYSTEM_LFS</div><div class="ttdef"><b>Definition</b> log.h:40</div></div>
<div class="ttc" id="alog_8h_html_afcecd2a29fae3a2fe7e586c9f0dc33bca8061bfef6d93c21e0485d8a981a51907"><div class="ttname"><a href="log_8h.html#afcecd2a29fae3a2fe7e586c9f0dc33bca8061bfef6d93c21e0485d8a981a51907">LOG_SINK_ALL</a></div><div class="ttdeci">@ LOG_SINK_ALL</div><div class="ttdef"><b>Definition</b> log.h:23</div></div>
</div><!-- fragment --></li>
</ol>
<h1><a class="anchor" id="autotoc_md14"></a>
<code>LOG_message(...)</code> Args:</h1>
<p>The following are very small and specific details about the arguments to <code>LOG_message(...)</code>.</p>
<h2><a class="anchor" id="autotoc_md15"></a>
Subsystems</h2>
<p>There are several subsystems, defined in an enum in <code><a class="el" href="log_8h.html">log/log.h</a></code>. Use the right one. </p><div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> {</div>
<div class="line">    <a class="code hl_enumvalue" href="log_8h.html#af364ca6837e2c4fb7720ebdbbe7811b3a7dcaceb6cd38f69e47c09700f9548eca">LOG_SYSTEM_OBC</a> = 1 &lt;&lt; 0,</div>
<div class="line">    <a class="code hl_enumvalue" href="log_8h.html#af364ca6837e2c4fb7720ebdbbe7811b3a5a1e48b0b5660bed2c31a12c1c729ede">LOG_SYSTEM_UHF_RADIO</a> = 1 &lt;&lt; 1,</div>
<div class="line">    <a class="code hl_enumvalue" href="log_8h.html#af364ca6837e2c4fb7720ebdbbe7811b3a3582a513c3deb06dc4ad0061d4d2a8fe">LOG_SYSTEM_UMBILICAL_UART</a> = 1 &lt;&lt; 2,</div>
<div class="line">    <a class="code hl_enumvalue" href="log_8h.html#af364ca6837e2c4fb7720ebdbbe7811b3a73bd25d90ba60ab7b94fe010d29eb312">LOG_SYSTEM_GNSS</a> = 1 &lt;&lt; 3,</div>
<div class="line">    <a class="code hl_enumvalue" href="log_8h.html#af364ca6837e2c4fb7720ebdbbe7811b3ae8ee00ad63a756e65b0f890037a4256e">LOG_SYSTEM_MPI</a> = 1 &lt;&lt; 4,</div>
<div class="line">    <a class="code hl_enumvalue" href="log_8h.html#af364ca6837e2c4fb7720ebdbbe7811b3af0a3f5cc7d69ce9c9f8151b3e8d5db77">LOG_SYSTEM_EPS</a> = 1 &lt;&lt; 5,</div>
<div class="line">    <a class="code hl_enumvalue" href="log_8h.html#af364ca6837e2c4fb7720ebdbbe7811b3afcafd89fce208e1cfdb4ecb4184c385f">LOG_SYSTEM_BOOM</a> = 1 &lt;&lt; 6,</div>
<div class="line">    <a class="code hl_enumvalue" href="log_8h.html#af364ca6837e2c4fb7720ebdbbe7811b3a630cf1f1ac5c2edb0d22c29421d686e2">LOG_SYSTEM_ADCS</a> = 1 &lt;&lt; 7,</div>
<div class="line">    <a class="code hl_enumvalue" href="log_8h.html#af364ca6837e2c4fb7720ebdbbe7811b3a69866b209fc2c2a5010944d054dc1cb3">LOG_SYSTEM_LFS</a> = 1 &lt;&lt; 8,</div>
<div class="line">    <a class="code hl_enumvalue" href="log_8h.html#af364ca6837e2c4fb7720ebdbbe7811b3ac8e2c5ce2cdf20f518cf1980a0d1a5b2">LOG_SYSTEM_FLASH</a> = 1 &lt;&lt; 9,</div>
<div class="line">    <a class="code hl_enumvalue" href="log_8h.html#af364ca6837e2c4fb7720ebdbbe7811b3a501ae55f35d3f93a7132ea8f632d5c66">LOG_SYSTEM_ANTENNA_DEPLOY</a> = 1 &lt;&lt; 10,</div>
<div class="line">    <a class="code hl_enumvalue" href="log_8h.html#af364ca6837e2c4fb7720ebdbbe7811b3a0ac7df6ae221538289dae899ba70b2b8">LOG_SYSTEM_LOG</a> = 1 &lt;&lt; 11,</div>
<div class="line">    <a class="code hl_enumvalue" href="log_8h.html#af364ca6837e2c4fb7720ebdbbe7811b3af985b1638017504a115df86c2b6882fe">LOG_SYSTEM_TELECOMMAND</a> = 1 &lt;&lt; 12,</div>
<div class="line">    <a class="code hl_enumvalue" href="log_8h.html#af364ca6837e2c4fb7720ebdbbe7811b3a676a1f6dba7a8b77ecab501d858ff44f">LOG_SYSTEM_UNIT_TEST</a> = 1 &lt;&lt; 13,</div>
<div class="line">    <a class="code hl_enumvalue" href="log_8h.html#af364ca6837e2c4fb7720ebdbbe7811b3ab3894b90b7634b767259388293834bb2">LOG_SYSTEM_UNKNOWN</a> = 1 &lt;&lt; 14,</div>
<div class="line">    <a class="code hl_enumvalue" href="log_8h.html#af364ca6837e2c4fb7720ebdbbe7811b3a029173055f12cc2e56b326d2d802125c">LOG_SYSTEM_ALL</a> = (1 &lt;&lt; 15) - 1,</div>
<div class="line">} <a class="code hl_enumeration" href="log_8h.html#af364ca6837e2c4fb7720ebdbbe7811b3">LOG_system_enum_t</a>;</div>
<div class="ttc" id="alog_8h_html_af364ca6837e2c4fb7720ebdbbe7811b3"><div class="ttname"><a href="log_8h.html#af364ca6837e2c4fb7720ebdbbe7811b3">LOG_system_enum_t</a></div><div class="ttdeci">LOG_system_enum_t</div><div class="ttdef"><b>Definition</b> log.h:31</div></div>
<div class="ttc" id="alog_8h_html_af364ca6837e2c4fb7720ebdbbe7811b3a029173055f12cc2e56b326d2d802125c"><div class="ttname"><a href="log_8h.html#af364ca6837e2c4fb7720ebdbbe7811b3a029173055f12cc2e56b326d2d802125c">LOG_SYSTEM_ALL</a></div><div class="ttdeci">@ LOG_SYSTEM_ALL</div><div class="ttdef"><b>Definition</b> log.h:47</div></div>
<div class="ttc" id="alog_8h_html_af364ca6837e2c4fb7720ebdbbe7811b3a0ac7df6ae221538289dae899ba70b2b8"><div class="ttname"><a href="log_8h.html#af364ca6837e2c4fb7720ebdbbe7811b3a0ac7df6ae221538289dae899ba70b2b8">LOG_SYSTEM_LOG</a></div><div class="ttdeci">@ LOG_SYSTEM_LOG</div><div class="ttdef"><b>Definition</b> log.h:43</div></div>
<div class="ttc" id="alog_8h_html_af364ca6837e2c4fb7720ebdbbe7811b3a3582a513c3deb06dc4ad0061d4d2a8fe"><div class="ttname"><a href="log_8h.html#af364ca6837e2c4fb7720ebdbbe7811b3a3582a513c3deb06dc4ad0061d4d2a8fe">LOG_SYSTEM_UMBILICAL_UART</a></div><div class="ttdeci">@ LOG_SYSTEM_UMBILICAL_UART</div><div class="ttdef"><b>Definition</b> log.h:34</div></div>
<div class="ttc" id="alog_8h_html_af364ca6837e2c4fb7720ebdbbe7811b3a501ae55f35d3f93a7132ea8f632d5c66"><div class="ttname"><a href="log_8h.html#af364ca6837e2c4fb7720ebdbbe7811b3a501ae55f35d3f93a7132ea8f632d5c66">LOG_SYSTEM_ANTENNA_DEPLOY</a></div><div class="ttdeci">@ LOG_SYSTEM_ANTENNA_DEPLOY</div><div class="ttdef"><b>Definition</b> log.h:42</div></div>
<div class="ttc" id="alog_8h_html_af364ca6837e2c4fb7720ebdbbe7811b3a5a1e48b0b5660bed2c31a12c1c729ede"><div class="ttname"><a href="log_8h.html#af364ca6837e2c4fb7720ebdbbe7811b3a5a1e48b0b5660bed2c31a12c1c729ede">LOG_SYSTEM_UHF_RADIO</a></div><div class="ttdeci">@ LOG_SYSTEM_UHF_RADIO</div><div class="ttdef"><b>Definition</b> log.h:33</div></div>
<div class="ttc" id="alog_8h_html_af364ca6837e2c4fb7720ebdbbe7811b3a630cf1f1ac5c2edb0d22c29421d686e2"><div class="ttname"><a href="log_8h.html#af364ca6837e2c4fb7720ebdbbe7811b3a630cf1f1ac5c2edb0d22c29421d686e2">LOG_SYSTEM_ADCS</a></div><div class="ttdeci">@ LOG_SYSTEM_ADCS</div><div class="ttdef"><b>Definition</b> log.h:39</div></div>
<div class="ttc" id="alog_8h_html_af364ca6837e2c4fb7720ebdbbe7811b3a676a1f6dba7a8b77ecab501d858ff44f"><div class="ttname"><a href="log_8h.html#af364ca6837e2c4fb7720ebdbbe7811b3a676a1f6dba7a8b77ecab501d858ff44f">LOG_SYSTEM_UNIT_TEST</a></div><div class="ttdeci">@ LOG_SYSTEM_UNIT_TEST</div><div class="ttdef"><b>Definition</b> log.h:45</div></div>
<div class="ttc" id="alog_8h_html_af364ca6837e2c4fb7720ebdbbe7811b3a73bd25d90ba60ab7b94fe010d29eb312"><div class="ttname"><a href="log_8h.html#af364ca6837e2c4fb7720ebdbbe7811b3a73bd25d90ba60ab7b94fe010d29eb312">LOG_SYSTEM_GNSS</a></div><div class="ttdeci">@ LOG_SYSTEM_GNSS</div><div class="ttdef"><b>Definition</b> log.h:35</div></div>
<div class="ttc" id="alog_8h_html_af364ca6837e2c4fb7720ebdbbe7811b3a7dcaceb6cd38f69e47c09700f9548eca"><div class="ttname"><a href="log_8h.html#af364ca6837e2c4fb7720ebdbbe7811b3a7dcaceb6cd38f69e47c09700f9548eca">LOG_SYSTEM_OBC</a></div><div class="ttdeci">@ LOG_SYSTEM_OBC</div><div class="ttdef"><b>Definition</b> log.h:32</div></div>
<div class="ttc" id="alog_8h_html_af364ca6837e2c4fb7720ebdbbe7811b3ab3894b90b7634b767259388293834bb2"><div class="ttname"><a href="log_8h.html#af364ca6837e2c4fb7720ebdbbe7811b3ab3894b90b7634b767259388293834bb2">LOG_SYSTEM_UNKNOWN</a></div><div class="ttdeci">@ LOG_SYSTEM_UNKNOWN</div><div class="ttdef"><b>Definition</b> log.h:46</div></div>
<div class="ttc" id="alog_8h_html_af364ca6837e2c4fb7720ebdbbe7811b3ac8e2c5ce2cdf20f518cf1980a0d1a5b2"><div class="ttname"><a href="log_8h.html#af364ca6837e2c4fb7720ebdbbe7811b3ac8e2c5ce2cdf20f518cf1980a0d1a5b2">LOG_SYSTEM_FLASH</a></div><div class="ttdeci">@ LOG_SYSTEM_FLASH</div><div class="ttdef"><b>Definition</b> log.h:41</div></div>
<div class="ttc" id="alog_8h_html_af364ca6837e2c4fb7720ebdbbe7811b3ae8ee00ad63a756e65b0f890037a4256e"><div class="ttname"><a href="log_8h.html#af364ca6837e2c4fb7720ebdbbe7811b3ae8ee00ad63a756e65b0f890037a4256e">LOG_SYSTEM_MPI</a></div><div class="ttdeci">@ LOG_SYSTEM_MPI</div><div class="ttdef"><b>Definition</b> log.h:36</div></div>
<div class="ttc" id="alog_8h_html_af364ca6837e2c4fb7720ebdbbe7811b3af0a3f5cc7d69ce9c9f8151b3e8d5db77"><div class="ttname"><a href="log_8h.html#af364ca6837e2c4fb7720ebdbbe7811b3af0a3f5cc7d69ce9c9f8151b3e8d5db77">LOG_SYSTEM_EPS</a></div><div class="ttdeci">@ LOG_SYSTEM_EPS</div><div class="ttdef"><b>Definition</b> log.h:37</div></div>
<div class="ttc" id="alog_8h_html_af364ca6837e2c4fb7720ebdbbe7811b3af985b1638017504a115df86c2b6882fe"><div class="ttname"><a href="log_8h.html#af364ca6837e2c4fb7720ebdbbe7811b3af985b1638017504a115df86c2b6882fe">LOG_SYSTEM_TELECOMMAND</a></div><div class="ttdeci">@ LOG_SYSTEM_TELECOMMAND</div><div class="ttdef"><b>Definition</b> log.h:44</div></div>
<div class="ttc" id="alog_8h_html_af364ca6837e2c4fb7720ebdbbe7811b3afcafd89fce208e1cfdb4ecb4184c385f"><div class="ttname"><a href="log_8h.html#af364ca6837e2c4fb7720ebdbbe7811b3afcafd89fce208e1cfdb4ecb4184c385f">LOG_SYSTEM_BOOM</a></div><div class="ttdeci">@ LOG_SYSTEM_BOOM</div><div class="ttdef"><b>Definition</b> log.h:38</div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md16"></a>
Log Levels</h2>
<p>There are several log levels, defined in an enum.</p>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> {</div>
<div class="line">    <a class="code hl_enumvalue" href="log_8h.html#a67288ef7f22e51426f612ed5a7e0c043ab3bc0fc25a2a4bc558423156e66c7a20">LOG_SEVERITY_DEBUG</a> = 1 &lt;&lt; 0,</div>
<div class="line">    <a class="code hl_enumvalue" href="log_8h.html#a67288ef7f22e51426f612ed5a7e0c043aeab8b52bb6858ba4a749ce6ae1d651bd">LOG_SEVERITY_NORMAL</a> = 1 &lt;&lt; 1,</div>
<div class="line">    <a class="code hl_enumvalue" href="log_8h.html#a67288ef7f22e51426f612ed5a7e0c043a90262619c387f473726d4e1c52353d42">LOG_SEVERITY_WARNING</a> = 1 &lt;&lt; 2,</div>
<div class="line">    <a class="code hl_enumvalue" href="log_8h.html#a67288ef7f22e51426f612ed5a7e0c043ad168c190a9e83bfdaec5caff30289291">LOG_SEVERITY_ERROR</a> = 1 &lt;&lt; 3,</div>
<div class="line">    <a class="code hl_enumvalue" href="log_8h.html#a67288ef7f22e51426f612ed5a7e0c043a6f4ca9f67b46991fc4180e9b7ec8e678">LOG_SEVERITY_CRITICAL</a> = 1 &lt;&lt; 4,</div>
<div class="line">} <a class="code hl_enumeration" href="log_8h.html#a67288ef7f22e51426f612ed5a7e0c043">LOG_severity_enum_t</a>;</div>
<div class="ttc" id="alog_8h_html_a67288ef7f22e51426f612ed5a7e0c043"><div class="ttname"><a href="log_8h.html#a67288ef7f22e51426f612ed5a7e0c043">LOG_severity_enum_t</a></div><div class="ttdeci">LOG_severity_enum_t</div><div class="ttdef"><b>Definition</b> log.h:9</div></div>
<div class="ttc" id="alog_8h_html_a67288ef7f22e51426f612ed5a7e0c043a6f4ca9f67b46991fc4180e9b7ec8e678"><div class="ttname"><a href="log_8h.html#a67288ef7f22e51426f612ed5a7e0c043a6f4ca9f67b46991fc4180e9b7ec8e678">LOG_SEVERITY_CRITICAL</a></div><div class="ttdeci">@ LOG_SEVERITY_CRITICAL</div><div class="ttdef"><b>Definition</b> log.h:14</div></div>
<div class="ttc" id="alog_8h_html_a67288ef7f22e51426f612ed5a7e0c043a90262619c387f473726d4e1c52353d42"><div class="ttname"><a href="log_8h.html#a67288ef7f22e51426f612ed5a7e0c043a90262619c387f473726d4e1c52353d42">LOG_SEVERITY_WARNING</a></div><div class="ttdeci">@ LOG_SEVERITY_WARNING</div><div class="ttdef"><b>Definition</b> log.h:12</div></div>
<div class="ttc" id="alog_8h_html_a67288ef7f22e51426f612ed5a7e0c043ab3bc0fc25a2a4bc558423156e66c7a20"><div class="ttname"><a href="log_8h.html#a67288ef7f22e51426f612ed5a7e0c043ab3bc0fc25a2a4bc558423156e66c7a20">LOG_SEVERITY_DEBUG</a></div><div class="ttdeci">@ LOG_SEVERITY_DEBUG</div><div class="ttdef"><b>Definition</b> log.h:10</div></div>
<div class="ttc" id="alog_8h_html_a67288ef7f22e51426f612ed5a7e0c043ad168c190a9e83bfdaec5caff30289291"><div class="ttname"><a href="log_8h.html#a67288ef7f22e51426f612ed5a7e0c043ad168c190a9e83bfdaec5caff30289291">LOG_SEVERITY_ERROR</a></div><div class="ttdeci">@ LOG_SEVERITY_ERROR</div><div class="ttdef"><b>Definition</b> log.h:13</div></div>
</div><!-- fragment --><p>Sometimes, stuff works (use <code>LOG_SEVERITY_NORMAL</code>). Sometimes it doesn't (use <code>LOG_SEVERITY_WARNING</code> or <code>LOG_SEVERITY_ERROR</code>). Sometimes, the thing not working can cause other things to not work (use <code>LOG_SEVERITY_CRITICAL</code>).</p>
<h2><a class="anchor" id="autotoc_md17"></a>
Sinks</h2>
<p>There are several sinks (i.e., log message destinations): </p><div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> {</div>
<div class="line">    <a class="code hl_enumvalue" href="log_8h.html#afcecd2a29fae3a2fe7e586c9f0dc33bcaf83c583770a65599b1f9109007a14bd1">LOG_SINK_NONE</a> = 0,</div>
<div class="line">    <a class="code hl_enumvalue" href="log_8h.html#afcecd2a29fae3a2fe7e586c9f0dc33bcae28277f3d7a153e9309dcd5d9e9547d6">LOG_SINK_UHF_RADIO</a> = 1 &lt;&lt; 0,</div>
<div class="line">    <a class="code hl_enumvalue" href="log_8h.html#afcecd2a29fae3a2fe7e586c9f0dc33bcafe1bfdba466f669c0fd59f87bfc47f73">LOG_SINK_FILE</a> = 1 &lt;&lt; 1,</div>
<div class="line">    <a class="code hl_enumvalue" href="log_8h.html#afcecd2a29fae3a2fe7e586c9f0dc33bcaa31b83847dda396f8e96fb85108c3bc2">LOG_SINK_UMBILICAL_UART</a> = 1 &lt;&lt; 2,</div>
<div class="line">    <a class="code hl_enumvalue" href="log_8h.html#afcecd2a29fae3a2fe7e586c9f0dc33bca9d273a738cfd8cea06a1a967a7d85317">LOG_SINK_UNKNOWN</a> = 1 &lt;&lt; 3,</div>
<div class="line">    <a class="code hl_enumvalue" href="log_8h.html#afcecd2a29fae3a2fe7e586c9f0dc33bca8061bfef6d93c21e0485d8a981a51907">LOG_SINK_ALL</a> = (1 &lt;&lt; 4) - 1,</div>
<div class="line">} <a class="code hl_enumeration" href="log_8h.html#afcecd2a29fae3a2fe7e586c9f0dc33bc">LOG_sink_enum_t</a>;</div>
<div class="ttc" id="alog_8h_html_afcecd2a29fae3a2fe7e586c9f0dc33bc"><div class="ttname"><a href="log_8h.html#afcecd2a29fae3a2fe7e586c9f0dc33bc">LOG_sink_enum_t</a></div><div class="ttdeci">LOG_sink_enum_t</div><div class="ttdef"><b>Definition</b> log.h:17</div></div>
<div class="ttc" id="alog_8h_html_afcecd2a29fae3a2fe7e586c9f0dc33bca9d273a738cfd8cea06a1a967a7d85317"><div class="ttname"><a href="log_8h.html#afcecd2a29fae3a2fe7e586c9f0dc33bca9d273a738cfd8cea06a1a967a7d85317">LOG_SINK_UNKNOWN</a></div><div class="ttdeci">@ LOG_SINK_UNKNOWN</div><div class="ttdef"><b>Definition</b> log.h:22</div></div>
<div class="ttc" id="alog_8h_html_afcecd2a29fae3a2fe7e586c9f0dc33bcaa31b83847dda396f8e96fb85108c3bc2"><div class="ttname"><a href="log_8h.html#afcecd2a29fae3a2fe7e586c9f0dc33bcaa31b83847dda396f8e96fb85108c3bc2">LOG_SINK_UMBILICAL_UART</a></div><div class="ttdeci">@ LOG_SINK_UMBILICAL_UART</div><div class="ttdef"><b>Definition</b> log.h:21</div></div>
<div class="ttc" id="alog_8h_html_afcecd2a29fae3a2fe7e586c9f0dc33bcae28277f3d7a153e9309dcd5d9e9547d6"><div class="ttname"><a href="log_8h.html#afcecd2a29fae3a2fe7e586c9f0dc33bcae28277f3d7a153e9309dcd5d9e9547d6">LOG_SINK_UHF_RADIO</a></div><div class="ttdeci">@ LOG_SINK_UHF_RADIO</div><div class="ttdef"><b>Definition</b> log.h:19</div></div>
<div class="ttc" id="alog_8h_html_afcecd2a29fae3a2fe7e586c9f0dc33bcaf83c583770a65599b1f9109007a14bd1"><div class="ttname"><a href="log_8h.html#afcecd2a29fae3a2fe7e586c9f0dc33bcaf83c583770a65599b1f9109007a14bd1">LOG_SINK_NONE</a></div><div class="ttdeci">@ LOG_SINK_NONE</div><div class="ttdef"><b>Definition</b> log.h:18</div></div>
<div class="ttc" id="alog_8h_html_afcecd2a29fae3a2fe7e586c9f0dc33bcafe1bfdba466f669c0fd59f87bfc47f73"><div class="ttname"><a href="log_8h.html#afcecd2a29fae3a2fe7e586c9f0dc33bcafe1bfdba466f669c0fd59f87bfc47f73">LOG_SINK_FILE</a></div><div class="ttdeci">@ LOG_SINK_FILE</div><div class="ttdef"><b>Definition</b> log.h:20</div></div>
</div><!-- fragment --><p>Generally, all log messages should go to all sinks (<code>LOG_SINK_ALL</code>).</p>
<p>Sometimes, however, there may be a time where you want to exclude a specific sink. For example, if you are logging a message saying "using the filesystem failed", you probably don't want to log that message to the failing filesystem. In such a case, use <code>LOG_all_sinks_except(LOG_SINK_FILE)</code>.</p>
<p>Several sinks can chained together with the bitwise OR operator (<code>|</code>). For example, to log to the UART and the radio, use <code>LOG_SINK_UART | LOG_SINK_RADIO</code>. To log to everything except the filesystem and radio, use <code>LOG_all_sinks_except(LOG_SINK_FILE | LOG_SINK_RADIO)</code>.</p>
<h1><a class="anchor" id="autotoc_md18"></a>
Timestamp Format</h1>
<p>The timekeeping clock on satellites drifts due to temperature variations, inaccuracies in the crystal oscillator, etc; it is re-synced with the GNSS and/or ground station every so often.</p>
<p>The system time is stored in "unix timestamp format" (seconds since 1970-01-01). This is a very well-known date/time representation.</p>
<p>In the log printouts, each log is shown in the format of the following example: </p><div class="fragment"><div class="line">1723331067154+0000018056_T [T:TELECOMMAND:NORMAL]: Hello, world!</div>
</div><!-- fragment --><p>The timestamp on logs is stored in "sync time + source + offset" format. In the example above, the fields are:</p><ul>
<li><b>Sync Time</b>: 1723331067154, meaning 1723331067.154 seconds since midnight, 1970-01-01.</li>
<li><b>Source</b>: <code>T</code>, meaning the time was last synced via the <code>set_system_time()</code> telecommand.<ul>
<li>Specifically, the time was synced like <code>CTS1+set_system_time(1723331067154)!</code>.</li>
</ul>
</li>
<li><b>Offset</b>: 0000018056, meaning the time was last synced 18.056 seconds before that hello world message was logged.</li>
</ul>
<p>By adding together the sync time and the offset, the absolute order of the log message can be determined by sorting the logs lexicographically (i.e., first by the sync time value, then by the offset value).</p>
<p>The timestamp for each log message could be stored as just a single number of ms since 1970-01-01, but the "sync time + source + offset" format is used to allow absolute chronological sorting of the logs, even if the satellite's time moves "backwards" during a time sync.</p>
<p>For more information about the timestamp format, see the <a class="el" href="Timestamp__Format__Rationale_8md.html">Timestamp Format Rationale docs</a>.</p>
<h1><a class="anchor" id="autotoc_md19"></a>
Log Context Format</h1>
<p>In the log printouts, each log is shown in the format of the following example: </p><div class="fragment"><div class="line">1723331067154+0000018056_T [T:TELECOMMAND:NORMAL]: Hello, world!</div>
<div class="line">0000000000000+0000202427_N [A:EPS:ERROR]: EPS-&gt;OBC: timeout before first byte received</div>
</div><!-- fragment --><p>In the first log example, <code>T:</code> indicates that the "log context" (the reason the log call was executed) is an immediate telecommand. In the second example, <code>A:</code> indicates that the attempted EPS communication was autonomous.</p>
<p>The following "log contexts" exist:</p>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> {</div>
<div class="line">    <a class="code hl_enumvalue" href="log_8h.html#a17a282fe31a91056fb3d9f09646a8466a3659de0f179e9ff59096a1675b715d6e">LOG_CONTEXT_AUTONOMOUS</a>, <span class="comment">// Character: &#39;A&#39; -&gt; For logs that originate in background tasks</span></div>
<div class="line">    <a class="code hl_enumvalue" href="log_8h.html#a17a282fe31a91056fb3d9f09646a8466afa335054ca8196d58314bc5c4ebe89a5">LOG_CONTEXT_IMMEDIATE_TELECOMMAND</a>, <span class="comment">// Character: &#39;T&#39;</span></div>
<div class="line">    <a class="code hl_enumvalue" href="log_8h.html#a17a282fe31a91056fb3d9f09646a8466ab91d554dce35e4245552e0aae9f1d156">LOG_CONTEXT_SCHEDULED_TELECOMMAND</a> <span class="comment">// Character: &#39;S&#39;</span></div>
<div class="line">} <a class="code hl_enumeration" href="log_8h.html#a17a282fe31a91056fb3d9f09646a8466">LOG_context_enum_t</a>;</div>
<div class="ttc" id="alog_8h_html_a17a282fe31a91056fb3d9f09646a8466"><div class="ttname"><a href="log_8h.html#a17a282fe31a91056fb3d9f09646a8466">LOG_context_enum_t</a></div><div class="ttdeci">LOG_context_enum_t</div><div class="ttdef"><b>Definition</b> log.h:50</div></div>
<div class="ttc" id="alog_8h_html_a17a282fe31a91056fb3d9f09646a8466a3659de0f179e9ff59096a1675b715d6e"><div class="ttname"><a href="log_8h.html#a17a282fe31a91056fb3d9f09646a8466a3659de0f179e9ff59096a1675b715d6e">LOG_CONTEXT_AUTONOMOUS</a></div><div class="ttdeci">@ LOG_CONTEXT_AUTONOMOUS</div><div class="ttdef"><b>Definition</b> log.h:51</div></div>
<div class="ttc" id="alog_8h_html_a17a282fe31a91056fb3d9f09646a8466ab91d554dce35e4245552e0aae9f1d156"><div class="ttname"><a href="log_8h.html#a17a282fe31a91056fb3d9f09646a8466ab91d554dce35e4245552e0aae9f1d156">LOG_CONTEXT_SCHEDULED_TELECOMMAND</a></div><div class="ttdeci">@ LOG_CONTEXT_SCHEDULED_TELECOMMAND</div><div class="ttdef"><b>Definition</b> log.h:53</div></div>
<div class="ttc" id="alog_8h_html_a17a282fe31a91056fb3d9f09646a8466afa335054ca8196d58314bc5c4ebe89a5"><div class="ttname"><a href="log_8h.html#a17a282fe31a91056fb3d9f09646a8466afa335054ca8196d58314bc5c4ebe89a5">LOG_CONTEXT_IMMEDIATE_TELECOMMAND</a></div><div class="ttdeci">@ LOG_CONTEXT_IMMEDIATE_TELECOMMAND</div><div class="ttdef"><b>Definition</b> log.h:52</div></div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2
</small></address>
</div><!-- doc-content -->
</body>
</html>
